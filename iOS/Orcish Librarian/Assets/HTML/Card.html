<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, user-scalable=no" />
<script src="jquery.js"></script>
<style>

    body {
        margin: 0;
        padding: 10px;
        background: #d8dce6;
        color: #42464d;
        font-family: sans-serif;
        -webkit-text-size-adjust: none;
    }

	a {
		color: #6F789B;
	}
    
	.ol-content {
		visibility: hidden;
	}

    .ol-header {
		position: relative;
    }
    
    .ol-block {
        padding: 10px;
        margin: 0 0 15px 0;
        border: 1px solid #ccc;
        background: #fff;
        border-radius: 3px;
        box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.15);
        font-size: 14px;
    }
    
    .ol-card-name {
        padding: 0;
        margin: 0 0 4px 0;
        font-size: 17px;
        font-weight: bold;
    }
    
    .ol-set-name {
        margin-top: 3px;
        font-size: 12px;
        color: #7f848b;
    }

	.ol-set-name a {
		text-decoration: none;
	}
    
	.ol-card-data {
		margin-top: 3px;
        font-size: 14px;
        font-weight: bold;
        color: #7f848b;
	}

	.ol-mana-cost {
		margin-top: 5px;
	}

	.ol-mana-cost img {
	    margin-right: 2px;
	    height: 18px;
	}

	.ol-loading-prices,
	.ol-missing-prices, 
    .ol-prices {
		display: none;
		margin: 10px 0 0 0;
	    font-size: 70%;
	}
	
	.ol-prices .ol-price {
		display: inline-block;
		margin-right: 10px;
	}
	
	.ol-prices .ol-attribution {
		margin-top: 5px;
		font-size: 10px;
	}
	
	.ol-price a {
		font-weight: bold;
	}

    .ol-card-image,
    .ol-oracle-text,
    .ol-other-editions,
	.ol-other-parts,
    .ol-other-art {
        display: none;
    }

	.ol-other-art .ol-active {
		color: #bbb;
	}
    
    .ol-card-image img {
        width: 280px;
        border-radius: 2px;
    }

	.ol-oracle-text {
		line-height: 1.2em;
	}
	
	.ol-oracle-text .separator {
		height: 10px;
		overflow: hidden;
	}	

	.ol-oracle-text img {
	    position: relative;
	    top: 2px;
	    margin-right: 2px;
	    width: 15px;
	    height: 15px;
	}
	
	.ol-oracle-text .level-info {
	    margin-left: 10px;
	}

	.ol-oracle-text .level-info .details { 
	    margin: -5px 0 10px 0;
	    line-height: 1.2em;
	}

	.ol-oracle-text .level-info h4 {
	    margin-top: 20px;
	    margin-left: -10px;
	}
	
	
	.ol-other-editions,
	.ol-other-parts,
    .ol-other-art, 
	.ol-other-art li {
		font-size: 13px;
		line-height: 1.5em;
	}
	
	.ol-gatherer a,
	.ol-other-editions a,
	.ol-other-parts a,
    .ol-other-art a {
		text-decoration: none;
	}
	
	.ol-other-art ul {
		margin: 0;
		padding: 0;
		list-style: none;
	}
	
	.ol-gatherer { 
		font-size: 14px; 
		font-weight: bold;
	}
	
	.ol-bookmark a {
		position: absolute;
		right: 8px;
		bottom: 8px;
		padding: 4px 3px 3px 3px;	
		text-align: center;
		font-size: 22px;
		line-height: 22px;
		background: -webkit-gradient(
			linear, left top, left bottom, 
			from(#ffffff),
			color-stop(0.50, #ffffff),
			to(#d6d6d6));
		border: 0px solid #ffbf00;
		border-radius: 5px;
		box-shadow:
			0px 1px 3px rgba(000,000,000,0.5),
			inset 0px 0px 3px rgba(255,255,255,1);
		text-shadow:
			0px -1px 0px rgba(000,000,000,0.1),
			0px 1px 0px rgba(255,255,255,1);
		color: #ddd;
		text-decoration: none;
	}
		
	.ol-bookmark.active a {
		color: #a00;
	}
	
	.subtitle {
		margin: 17px 0 8px 8px;
		font-size: 16px;
		font-weight: bold;
		color: #646F7C;
		text-shadow: 1px 1px 1px white;
	}
    
@media only screen and (-webkit-min-device-pixel-ratio: 2) {
/* --------------------------------------------------
//   styles for retina display   
// ------------------------------------------------- */
    
        
}

</style>
</head>
<body>	
<div class="ol-content">
	
    <div class="ol-header ol-block">
		<div class="ol-bookmark"><a href="javascript:void(0)">★</a></div>
        <div class="ol-card-name">Card Name</div>
        <div class="ol-set-name"><a href="javascript:void(0)" onclick="Orcish.sendMessage('set', 'self')">Card Set - Rarity</a></div>
		<div class="ol-card-data">
        	<span class="ol-card-type">Type &ndash; Subtype</span> 
			<span class="ol-card-ptl"></span>
		</div>
        <div class="ol-mana-cost">Mana Cost</div>
		<div class="ol-prices">
			<span class="ol-price ol-price-low">Low: <a href="javascript:void(0)" onclick="Orcish.sendMessage('tcg', 'show')">$6.50</a></span>
			<span class="ol-price ol-price-med">Med: <a href="javascript:void(0)" onclick="Orcish.sendMessage('tcg', 'show')">$7.20</a></span>
			<span class="ol-price ol-price-high">High: <a href="javascript:void(0)" onclick="Orcish.sendMessage('tcg', 'show')">$13.99</a></span>
			<div class="ol-attribution">Prices courtesy of TCGPlayer.com</div>
		</div>
		<div class="ol-missing-prices">
			Price could not be loaded. <a href="javascript:void(0)">Try again</a>
		</div>
		<div class="ol-loading-prices">
			Loading...
		</div>
    </div>
    
    <div class="ol-prices">
    </div>
    
    <div class="ol-card-image ol-block">
    </div>
    
    <div class="ol-oracle-text">
        <div class="subtitle">Oracle Text:</div>
        <div class="ol-block">
        </div>
    </div>
    
    <div class="ol-other-art">
		<div class="subtitle">Other Art:</div>
		<div class="ol-block">
		</div>
    </div>

    <div class="ol-other-parts">
		<div class="subtitle">Other Parts:</div>
		<div class="ol-block">
		</div>
    </div>
	
    <div class="ol-other-editions">
		<div class="subtitle">Other Editions:</div>
		<div class="ol-block">			
		</div>
    </div>

	<div class="ol-gatherer ol-block">
        <a href="javascript:void(0)" onclick="Orcish.sendMessage('gatherer', 'go')">Open Gatherer Page</a>
    </div>
    
</div>
<script>
    
var Orcish = { };    
(function(){
    
var IMAGE_ROOT = 'http://d1g6xmf8vayz1g.cloudfront.net/images/';
var MESSAGE_LOCK_TIMEOUT = 2000;
var PRICE_REQUEST_TIMEOUT = 5000;
var priceRequestTimer = null;
var currentCardPk = null;
var cardPrice = null;
var messageLock = false;
 
// ----------------------------------------------------------------------------
 
Orcish.setCardData = function(card) {
	if (card.pk != currentCardPk) {
		cardPrice = null;
		currentCardPk = card.pk;		
	    $('.ol-card-name').text(card.displayName);
	    $('.ol-set-name a').text(card.setName + ' — ' + formatRarity(card.rarity));
		$('.ol-mana-cost').html(formattedManaCost(card));
		$('.ol-bookmark').toggleClass('active', card.isBookmarked);
		loadTypeLine(card);
	    loadOracleText(card);
	    loadCardPhoto(card);
		loadOtherEditions(card);
		loadOtherParts(card);
		waitForPrice(card);
		$('.ol-content').css('visibility', 'visible');
	}
}

// ----------------------------------------------------------------------------

Orcish.setCardPrice = function(cardPk, price) {
	if (cardPk = currentCardPk) {
		clearTimeout(priceRequestTimer);
		$('.ol-missing-prices').hide();
		$('.ol-loading-prices').hide();
		$('.ol-price-low a').text('$' + price.low)
		$('.ol-price-med a').text('$' + price.average)
		$('.ol-price-high a').text('$' + price.high)
		$('.ol-price a').attr('onclick', "Orcish.sendMessage('tcg', " + price.tcgId + ")");
		$('.ol-prices').show();
	}
}

// ----------------------------------------------------------------------------

Orcish.sendMessage = function() {
	var path = Array.prototype.slice.call(arguments).join('/');
	path = path.replace('/', '://');
	if (!messageLock) {
		setTimeout(function(){ messageLock = false }, MESSAGE_LOCK_TIMEOUT);
		messageLock = true;
		window.location = path;
	}
}

// ----------------------------------------------------------------------------

function loadTypeLine(card) {
	$('.ol-card-type').text(card.typeLine);
	if (card.power || card.toughness) {
		var pt = (card.power + '/' + card.toughness);
		if (card.setName == 'Unhinged') { 
			pt = pt.replace(/\{1\/2\}/g, '½');
			pt = pt.replace(/\{\^2\}/g, '²')
		}
		$('.ol-card-ptl').show().text('(' + pt + ')');
	} else if (card.loyalty) {
		$('.ol-card-ptl').show().text('(' + card.loyalty + ')');
	} else {
		$('.ol-card-ptl').hide();
	}
	
}

// ----------------------------------------------------------------------------
 
function loadOracleText(card) {
    var text = formattedOracleText(card);
    if (text.length > 0) {
        $('.ol-oracle-text').show().find('.ol-block').html(text);
    } else {
        $('.ol-oracle-text').hide();
    }
}
 
// ----------------------------------------------------------------------------
 
function loadCardPhoto(card) {
	
	$('.ol-other-art').hide();
	var imageContainer = $('.ol-card-image').html('');
	imageContainer.hide();
    
	var setName = card.setName.replace(/:/g, '');
	var cardName = card.displayName.replace(/:/g, '').replace(/^.*\((.*)\s\/\/\s(.*)\)$/, '$1$2');
	var highResURL = IMAGE_ROOT + encodeURIComponent(cleanText(setName)) + '/' + encodeURIComponent(cleanText(cardName)) + card.artIndex + '.full.jpg';
	var lowResURL = 'http://gatherer.wizards.com/Handlers/Image.ashx?type=card&multiverseid=' + card.gathererId;
    
	var imageElement = $('<img />').hide().appendTo(imageContainer);
	
	// successful load handler
	imageElement.load(function() {
		imageElement.unbind('load');
		var currentSrc = imageElement.attr('src');
		if (currentSrc == highResURL) {
			loadArtVariants(card);
		}
		imageElement.show();
		imageContainer.show();		
	})
	
	// error handler
	imageElement.error(function() {
		imageElement.unbind('error');
		var currentSrc = imageElement.attr('src');
		if (currentSrc == highResURL) {
			imageElement.attr('src', lowResURL);
		} else if (currentSrc == lowResURL){
			imageElement.remove();
		}
	})
        
	imageElement.attr('src', highResURL);
}

// ----------------------------------------------------------------------------

function loadOtherEditions(card) {
	if (card.otherEditions && card.otherEditions.length > 0) {
        var html = '';
        $.each(card.otherEditions, function(i, edition) {
            if (i != 0) { html += '<br />' }   
            html += '<a href="javascript:void(0)" onclick="Orcish.sendMessage(\'set\', ' + edition.setPk + ')">' + edition.setName + '</a>';
        });
        $('.ol-other-editions').show().find('.ol-block').html(html);
    } else {
		$('.ol-other-editions').hide();
	}
}

// ----------------------------------------------------------------------------

function loadOtherParts(card) {
	if (card.otherParts && card.otherParts.length > 0 && card.setName != 'Ninth Edition') {
        var html = '';
        $.each(card.otherParts, function(i, otherCard) {
			if (i != 0) { html += '<br />' }
			html += '<a href="javascript:void(0)" onclick="Orcish.sendMessage(\'card\', ' + otherCard.pk +')">' + otherCard.displayName + '</a>';
        });
        $('.ol-other-parts').show().find('.ol-block').html(html);
    } else {
        $('.ol-other-parts').hide();
	}
}

// ----------------------------------------------------------------------------
 
function loadArtVariants(card) {
    if (card.artVariants && card.artVariants.length > 1) {
		var list = $('<ul />');
		for (var i = 0; i < card.artVariants.length; i++) {
			(function(variant) {
				var listItem = $('<li />').text('Variant #' + (i + 1));
				if (variant.pk == card.pk) {
					listItem.addClass('ol-active');
				}
				listItem.appendTo(list);
				listItem.click(function(){
					$('.ol-other-art li').removeClass('ol-active');
					listItem.addClass('ol-active');
					loadArtVariant(card, variant.artIndex);
				});
			})(card.artVariants[i]);
		}
		$('.ol-other-art').show().find('.ol-block').empty().append(list);        
    }
}

// ----------------------------------------------------------------------------

function loadArtVariant(card, artIndex) {
	var imageContainer = $('.ol-card-image');
	$('html, body').animate({ scrollTop: imageContainer.offset().top - 10 });		
	var existingImage = imageContainer.find('img');
	var setName = card.setName.replace(/:/g, '');
	var cardName = card.displayName.replace(/:/g, '').replace(/^.*\((.*)\s\/\/\s(.*)\)$/, '$1$2');
	var highResURL = IMAGE_ROOT + encodeURIComponent(cleanText(setName)) + '/' + encodeURIComponent(cleanText(cardName)) + artIndex + '.full.jpg';    
	var imageElement = $('<img />').attr('src', highResURL)
	existingImage.css({ opacity: 0.2 });
	imageElement
		.load(function() {
			imageElement.unbind('load');
			imageContainer.show();
			existingImage.attr('src', highResURL);
			existingImage.css({ opacity: 1.0 });
		})
		.error(function() {
			imageElement.unbind('error');	
			existingImage.css({ opacity: 1.0 });
			imageContainer.hide();
		});
}

// ----------------------------------------------------------------------------

function waitForPrice(card) {
	$('.ol-prices').hide();
	$('.ol-missing-prices').hide();
	$('.ol-loading-prices').hide();
	clearTimeout(priceRequestTimer);
	priceRequestTimer = setTimeout(pricesNotLoadedInTime, PRICE_REQUEST_TIMEOUT);
}

// ----------------------------------------------------------------------------

function reloadPrice() {
	$('.ol-prices').hide();
	$('.ol-missing-prices').hide();
	$('.ol-loading-prices').show();
	clearTimeout(priceRequestTimer);
	priceRequestTimer = setTimeout(pricesNotLoadedInTime, PRICE_REQUEST_TIMEOUT);
	Orcish.sendMessage('price', 'reload');
}

// ----------------------------------------------------------------------------

function pricesNotLoadedInTime() {
	$('.ol-prices').hide();
	$('.ol-loading-prices').hide();
	$('.ol-missing-prices').show();
}

// ----------------------------------------------------------------------------

function toggleBookmark() {
	var bookmarkIcon = $('.ol-bookmark');
	var value = bookmarkIcon.hasClass('active') ? 'off' : 'on';
	bookmarkIcon.toggleClass('active');
	Orcish.sendMessage('bookmark', value);
}

// ----------------------------------------------------------------------------
 
function formattedOracleText(card) {

	var text = card.oracleText;

    // fix basic lands
    if (text.length == 1) { 
		text = '{T}: Add {' + text + '} to your mana pool.'; 
	}

	// Unhinged has 1/2 mana symbols that look like nonsense
	// It also has 1/2 P/T modifiers that are represented similarly
	if (card.setName == 'Unhinged') {
		text = text.replace(/\{([WBURG])([WBURG])\}/ig, '{$1}{$2}');
		text = text.replace(/\{o(\d+)o\{1\/2\}\}/g, '{$1}{o{C\/2}}');
		text = text.replace('{o{1\/2}}', '{o{C\/2}}');
		text = text.replace(/\{o\{1\/2\*([WBURG])\}\}/g, '{o{$1\/2}}');
		text = text.replace(/\{o\{([WBURGC])\/2\}\}/ig, '{$1/2}');
		text = text.replace(/\{1\/2\}/g, '½');
		text = text.replace(/o([0-9WBURGX])o([0-9WBURGX])/g, '{$1}{$2}');
	}

	// Unglued was never updated with modern markup
    else if (card.setName == 'Unglued') { 
        text = text.replace(/o([\d]+|[WBURGS])/g, '{$1}'); // fixes old-style mana symbol
        text = text.replace(/ocT/g, '{T}');                // fixes old-style tap symbol
    }	

    text = text.replace(/\n\s*\n+/g, "\n\n"); // no more than two newlines in a row
    text = text.replace(/\{(\d+)([WBURGS]+)\}/g, '{$1}{$2}'); // fix compressed mana cost in Blast from the Past
    text = text.replace(/\{1\}0\}/g, '{10}'); // fixes a bug in Draco's {10} symbol
	text = text.replace(/\{2\}0\}/g, '{20}'); // fixes a bug in Spawnsire of Ulamog's text
    text = text.replace(/\{([^}]+)\{/g, '{$1}{'); // fixes a symbol bug in Rhys the Redeemed's text
    text = text.replace(/\{S\}i\}/gi, '{S}'); // fixes a bug with Snow Mana symbol            

    // level-up cards get special formatting
    if (text.match(/^LEVEL \d/m)) {
        text = text.replace(/\n?\n?(LEVEL(\n|.)*)$/, "<div class=\"level-info\">$1</div>");
        text = text.replace(/\n?\n?LEVEL (\d+)([-+])(\d+)?\n?\n?/g, "#START#<h4>LEVEL $1$2$3</h4>#END#");
        text = text.replace(/#END#((\n|.)*?)(#START#|$)/g, '#END#<div class="details">$1</div>$3');
        text = text.replace(/(#END#|#START#)/g, '');
    }

	// replace newlines with <br /> elements 
    // text = '<p>' + text.split(/\n+/).join('</p><p>') + '</p>';
	text = text.replace(/\n+/g, '<div class="separator"></div>');

	// italicize certain keywords
	text = text.replace(/\b(channel|chroma|domain|fateful\shour|grandeur|hellbent|imprint|join\sforces|kinship|landfall|metalcraft|morbid|radiance|sweep|threshold)\b/i, '<i>$1</i>');
	
	// convert hyphen into em-dash
	text = text.replace(/(\s)-(\s)/, '$1&mdash;$2');

    var html = '';
    var withinToken = false;
    var openToken = '{';
    var closeToken = '{';
    var currentToken = '';
    for (var i = 0; i < text.length; i++) {
        var character = text[i];
        if (withinToken) {
            if (character == '}') {
                withinToken = false;
                html += formatToken(currentToken);
            } else {
                currentToken += character;
            }
        } else {
            if (character == openToken) {
                currentToken = '';
                withinToken = true;
            } else {
                html += character;
            }
        }
    }
    return html.replace(/(\(.*?\))/g, '<em>$1</em>');
}

 
// ----------------------------------------------------------------------------
    
function formattedManaCost(card) {
	var text = card.manaCost;
    var html = '';
    var openToken = '{';
    var closeToken = '}';
    var withinToken = false;
    var currentToken = '';
	if (card.setName == 'Unhinged' && text == '500') {
		text = '{W/2}'; // fix bug with mana cost of 'Little Girl' 
	}
    text = text.replace(/\(/g, '{');
	text = text.replace(/\)/g, '}');
	text = text.replace(/(\d+)/g, '{$1}');
	text = text.replace(/{{(\d)}\/([WBURG])}/g, '{$1/$2}'); // fix hybrid
	text = text.replace(/\{([WBURGC])\/\{2\}\}/g, '{$1/2}'); // fix half mana
    for (var i=0;i<text.length;i++) {            
        var character = text[i];
        if (withinToken) {
            if (character == '}') {
                withinToken = false;
                html += formatToken(currentToken);
            } else {
                currentToken += character;
            }
        }
        else {
            if (character == openToken) {
                currentToken = '';
                withinToken = true;
            } else {
                html += formatToken(character);
            }
        }
    }
    return html;
}
 
// ----------------------------------------------------------------------------
 
function formatToken(token) {
    var tap = /^(Q|T)$/i;
    var number = /^([\dXYZ]+)$/i;
    var color = /^([WBURGS])$/i;
    var numberColor = /^([\dxyz]+)\/([WBURG])$/i;
    var colorColor = /^([WBURG])\/([WBURG])$/i;
    var infinite = /^∞$/i;
    var loyalty = /^([-+]\d+)$/;
    var chaos = /^C$/;
    var phyrexian1 = /^([WBURGC])P$/i;
    var phyrexian2 = /^([WBURGC])\/P$/i;
	var halfMana = /^([WBURGC])\/2$/i;
    token = token.replace(/[(){}]/g, '');
    if (token.match(tap))
        return token.replace(tap, '<img src="symbols/$1.png" />').toLowerCase();
    else if (token.match(infinite))
        return token.replace(infinite, '<img src="symbols/mana_inf.png" />').toLowerCase();
    else if (token.match(number))
        return token.replace(number, '<img src="symbols/mana_$1.png" />').toLowerCase();
    else if (token.match(color))
        return token.replace(color, '<img src="symbols/mana_$1.png" />').toLowerCase();
    else if (token.match(numberColor))
        return token.replace(numberColor, '<img src="symbols/mana_$1$2.png" />').toLowerCase();
    else if (token.match(colorColor))
        return token.replace(colorColor, '<img src="symbols/mana_$1$2.png" />').toLowerCase();
    else if (token.match(phyrexian1))
        return token.replace(phyrexian1, '<img src="symbols/mana_p$1.png" />').toLowerCase();
    else if (token.match(phyrexian2))
        return token.replace(phyrexian2, '<img src="symbols/mana_p$1.png" />').toLowerCase();
    else if (token.match(loyalty))
        return token.replace(loyalty, '<img class="loyalty" src="symbols/loyalty$1.png" />').toLowerCase();    
    else if (token.match(chaos))
        return '"Chaos"';
	else if (token.match(halfMana)) {
		return token.replace(halfMana, '<img src="symbols/mana_half_$1.png" />').toLowerCase();
	}
    else
        return '<img src="symbols/mana_unknown.png" />';
}

// ---------------------------------------------------------------------------- 
 
function formatRarity(code) {
    code = code.toLowerCase();
    if (code == 'c') {
        return 'Common';
    } else if (code == 'u') {
        return 'Uncommon';
    } else if (code == 'r') {
        return 'Rare';
    } else if (code == 'm') {
        return 'Mythic';
    } else if (code == 'l') {
        return 'Land';
    } else {
        return 'Special';
    }
}

// ---------------------------------------------------------------------------- 

function cleanText(text) {
	var translations = {
		'Š': 'S', 'š': 's', 'Ð': 'Dj','Ž': 'Z', 'ž': 'z', 'À': 'A', 'Á': 'A', 'Â': 'A', 'Ã': 'A', 'Ä': 'A', 
		'Å': 'A', 'Æ': 'Ae', 'Ç': 'C', 'È': 'E', 'É': 'E', 'Ê': 'E', 'Ë': 'E', 'Ì': 'I', 'Í': 'I', 'Î': 'I', 
		'Ï': 'I', 'Ñ': 'N', 'Ò': 'O', 'Ó': 'O', 'Ô': 'O', 'Õ': 'O', 'Ö': 'O', 'Ø': 'O', 'Ù': 'U', 'Ú': 'U', 
		'Û': 'U', 'Ü': 'U', 'Ý': 'Y', 'Þ': 'B', 'ß': 'Ss','à': 'a', 'á': 'a', 'â': 'a', 'ã': 'a', 'ä': 'a', 
		'å': 'a', 'æ': 'ae', 'ç': 'c', 'è': 'e', 'é': 'e', 'ê': 'e', 'ë': 'e', 'ì': 'i', 'í': 'i', 'î': 'i', 
		'ï': 'i', 'ð': 'o', 'ñ': 'n', 'ò': 'o', 'ó': 'o', 'ô': 'o', 'õ': 'o', 'ö': 'o', 'ø': 'o', 'ù': 'u', 
		'ú': 'u', 'û': 'u', 'ý': 'y', 'ý': 'y', 'þ': 'b', 'ÿ': 'y', 'ƒ': 'f' 
	}
	for (special in translations) {
		text = text.replace(new RegExp(special, 'g'), translations[special]);
	}
	return text;
}
 
// ---------------------------------------------------------------------------- 

$('.ol-missing-prices a').click(reloadPrice);
$('.ol-bookmark a').click(toggleBookmark);

// ---------------------------------------------------------------------------- 
 
})()

if (navigator.userAgent	.indexOf('iPhone') == -1) {
	Orcish.setCardData({"otherParts":[],"displayName":"Hymn to Tourach","artIndex":"1","tcgSetName":"Fallen Empires","loyalty":null,"name":"Hymn to Tourach","setName":"Fallen Empires","rarity":"C","power":"","otherEditions":[],"isBookmarked":false,"artist":"Scott Kirschner","gathererId":"1851","manaCost":"BB","typeLine":"Sorcery","pk":"1282653776","collectorNumber":"","oracleText":"Target player discards two cards at random.","artVariants":[{"artIndex":"1","artist":"Scott Kirschner","pk":"1282653776"},{"artIndex":"2","artist":"Quinton Hoover","pk":"2274767213"},{"artIndex":"3","artist":"Susan Van Camp","pk":"2068412148"},{"artIndex":"4","artist":"Liz Danforth","pk":"4134532144"}],"toughness":""})	
} else {
	$(function(){
		Orcish.sendMessage('done', 'loading');
	});
}
    
// ----------------------------------------------------------------------------
//  Preload symbol images
// ----------------------------------------------------------------------------

(function($){
    var cache = [];
    $.preloadImages = function(images) {
        for(var i=0;i<images.length;i++) {
            var cacheImage = document.createElement('img');
            cacheImage.src =images[i];
            cache.push(cacheImage);
        }
    }
})(jQuery)

$.preloadImages([
"symbols/mana_0.png",
"symbols/mana_1.png",
"symbols/mana_10.png",
"symbols/mana_100.png",
"symbols/mana_11.png",
"symbols/mana_12.png",
"symbols/mana_13.png",
"symbols/mana_14.png",
"symbols/mana_15.png",
"symbols/mana_16.png",
"symbols/mana_1b.png",
"symbols/mana_1g.png",
"symbols/mana_1r.png",
"symbols/mana_1u.png",
"symbols/mana_1w.png",
"symbols/mana_2.png",
"symbols/mana_2b.png",
"symbols/mana_2g.png",
"symbols/mana_2r.png",
"symbols/mana_2u.png",
"symbols/mana_2w.png",
"symbols/mana_3.png",
"symbols/mana_3b.png",
"symbols/mana_3g.png",
"symbols/mana_3r.png",
"symbols/mana_3u.png",
"symbols/mana_3w.png",
"symbols/mana_4.png",
"symbols/mana_4b.png",
"symbols/mana_4g.png",
"symbols/mana_4r.png",
"symbols/mana_4u.png",
"symbols/mana_4w.png",
"symbols/mana_5.png",
"symbols/mana_6.png",
"symbols/mana_7.png",
"symbols/mana_8.png",
"symbols/mana_9.png",
"symbols/mana_1000000.png",
"symbols/mana_b.png",
"symbols/mana_bg.png",
"symbols/mana_br.png",
"symbols/mana_circle.png",
"symbols/mana_g.png",
"symbols/mana_gu.png",
"symbols/mana_gw.png",
"symbols/mana_inf.png",
"symbols/mana_nb.png",
"symbols/mana_ng.png",
"symbols/mana_nr.png",
"symbols/mana_nu.png",
"symbols/mana_nw.png",
"symbols/mana_r.png",
"symbols/mana_rg.png",
"symbols/mana_rw.png",
"symbols/mana_s.png",
"symbols/mana_u.png",
"symbols/mana_ub.png",
"symbols/mana_ur.png",
"symbols/mana_w.png",
"symbols/mana_wb.png",
"symbols/mana_wu.png",
"symbols/mana_x.png",
"symbols/mana_y.png",
"symbols/mana_z.png",
"symbols/mana_pw.png",
"symbols/mana_pb.png",
"symbols/mana_pu.png",
"symbols/mana_pr.png",
"symbols/mana_pg.png",
"symbols/mana_pc.png",
"symbols/q.png",
"symbols/t.png",
"symbols/mana_half_w.png",
"symbols/mana_half_b.png",
"symbols/mana_half_u.png",
"symbols/mana_half_r.png",
"symbols/mana_half_g.png",
"symbols/mana_half_s.png",
"symbols/mana_half_c.png"
]);

</script>
</body>
</html>
