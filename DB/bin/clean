#!/usr/bin/env ruby
# encoding: utf-8

require File.join(File.dirname(__FILE__), '../lib/bootstrap')

options = { :empty_cache => false, :empty_source => false }
OptionParser.new do |opts|
  opts.banner = 'clean [options] '
  opts.on('-c', '--empty-cache') { options[:empty_cache] = true }
  opts.on('-s', '--empty-source') { options[:empty_source] = true }
end.parse!

build_path = "data/build/*"
source_path = "data/source/*"
cache_path = "cache/*"

Orcish.debug("Deleting '#{build_path}'")
FileUtils.rm_rf(Dir.glob(build_path))

if options[:source_cache]
  Orcish.debug("Deleting '#{source_path}'")
  FileUtils.rm_rf(Dir.glob(source_path))
end

if options[:empty_cache]
  Orcish.debug("Deleting '#{cache_path}'")
  FileUtils.rm_rf(Dir.glob(cache_path))
end

